(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-pages-address-address"],{"16d6":function(t,e,a){"use strict";a.r(e);var s=a("3a69"),d=a("d24f");for(var n in d)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return d[t]}))}(n);a("3bf9");var i=a("f0c5"),r=Object(i["a"])(d["default"],s["b"],s["c"],!1,null,"0ecbabad",null,!1,s["a"],void 0);e["default"]=r.exports},"290b":function(t,e,a){"use strict";a.r(e);var s=a("403d"),d=a("6429");for(var n in d)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return d[t]}))}(n);a("c21f");var i=a("f0c5"),r=Object(i["a"])(d["default"],s["b"],s["c"],!1,null,"4ea565fe",null,!1,s["a"],void 0);e["default"]=r.exports},"3a69":function(t,e,a){"use strict";a.d(e,"b",(function(){return d})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s}));var s={"u-Text":a("c98d").default,uButton:a("590a").default},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"address"},[a("v-uni-view",{staticClass:"address-title-container"},[a("v-uni-view",{staticClass:"address-title-container_text"},[a("u--text",{attrs:{text:t.address.title,lines:1,size:"18"}})],1),a("v-uni-view",{staticClass:"address-title-container_btn"},[a("u-button",{attrs:{type:"primary",shape:"circle",size:"small",text:"附近电站"}})],1)],1),a("v-uni-view",{staticClass:"address-container"},[a("v-uni-view",{staticClass:"address-container_text"},[a("u--text",{attrs:{text:t.address.address,lines:1,size:"12"}})],1),t.address.distance>0?a("v-uni-view",{staticClass:"address-container_distance"},[a("u--text",{attrs:{text:(t.address.distance/1e3).toFixed(2)+"KM",size:"12"}})],1):a("v-uni-view",{staticClass:"address-container_distance"},[a("u--text",{attrs:{text:(t.getDistance(t.location.latitude,t.location.longitude,t.address.latitude,t.address.longitude)/1e3).toFixed(2)+"KM",size:"12"}})],1)],1)],1)},n=[]},"3bf9":function(t,e,a){"use strict";var s=a("70ee"),d=a.n(s);d.a},"403d":function(t,e,a){"use strict";a.d(e,"b",(function(){return d})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s}));var s={"u-Text":a("c98d").default,uLoadmore:a("d1e4").default},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"address"},[a("v-uni-view",{staticClass:"address-keyword-box"},[a("v-uni-view",[a("u--text",{attrs:{text:"为您展示"}})],1),a("v-uni-view",{staticClass:"address-keyword"},[a("u--text",{attrs:{text:t.region+" "+t.searchKeyWord,size:"18",lines:"1"}})],1),a("v-uni-view",[a("u--text",{attrs:{text:"相关目的地"}})],1)],1),t._l(t.addressList,(function(e,s){return a("address-item",{key:s,attrs:{address:e,location:t.location},nativeOn:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toMoreStation(e)}}})})),t.isLoading?a("u-loadmore",{attrs:{status:t.loadMoreStatus,"loading-text":t.loadingText,"loadmore-text":t.loadmoreText,"nomore-text":t.nomoreText}}):t._e()],2)},n=[]},"45e6":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.address[data-v-0ecbabad]{background-color:#fff;padding:10px;margin:10px 10px}.address .address-title-container[data-v-0ecbabad]{display:flex;align-items:center}.address .address-title-container .address-title-container_text[data-v-0ecbabad]{flex:1}.address .address-title-container .address-title-container_btn[data-v-0ecbabad]{margin-left:10px}.address .address-container[data-v-0ecbabad]{margin-top:10px;display:flex;align-items:center}.address .address-container .address-container_text[data-v-0ecbabad]{flex:1}.address .address-container .address-container_distance[data-v-0ecbabad]{margin-left:10px}',""]),t.exports=e},5117:function(t,e,a){var s=a("a2c5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var d=a("4f06").default;d("480a40cf",s,!0,{sourceMap:!1,shadowMode:!1})},6429:function(t,e,a){"use strict";a.r(e);var s=a("a14a"),d=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=d.a},"70ee":function(t,e,a){var s=a("45e6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var d=a("4f06").default;d("2ab62bd8",s,!0,{sourceMap:!1,shadowMode:!1})},a14a:function(t,e,a){"use strict";a("7a82");var s=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c"),a("14d9");var d=s(a("5530")),n=s(a("16d6")),i=a("26cb"),r=s(a("47c6")),o=a("5ad8"),c={components:{AddressItem:n.default},data:function(){return{qqmapsdk:void 0,addressList:[],pageIndex:1,isLoading:!1,loadMoreStatus:"nomore",loadmoreText:"轻轻上拉",loadingText:"努力加载中",nomoreText:"实在没有了",addressCount:0,searchKeyWord:void 0,region:""}},computed:(0,d.default)({},(0,i.mapGetters)({location:"locationGetter"})),onLoad:function(t){this.searchKeyWord=t.searchKeyWord,this.region=t.region;var e=new r.default({key:o.mapKey});this.qqmapsdk=e,this.getAddress()},onReachBottom:function(){if(this.addressList.length>=this.addressCount)return this.isLoading=!0,void(this.loadMoreStatus="nomore");this.isLoading||(console.log("到底"),this.loadMoreStatus="loading",this.pageIndex+=1,this.getAddress(),this.isLoading=!0)},methods:(0,d.default)((0,d.default)({},(0,i.mapActions)(["updateNearAddress"])),{},{getAddress:function(t){var e=this;this.qqmapsdk.search({sig:o.mapSign,keyword:this.searchKeyWord,location:{latitude:this.location.latitude,longitude:this.location.longitude},region:this.region,auto_extend:"0",page_size:10,page_index:this.pageIndex,success:function(t){if(e.isLoading=!1,console.log("search----\x3e",t),0==t.status&&t.data.length>0){e.addressCount=t.count;for(var a=0;a<t.data.length;a++)4!=t.data[a].type&&e.addressList.push({latitude:t.data[a].location.lat,longitude:t.data[a].location.lng,title:t.data[a].title,address:t.data[a].address,distance:t.data[a]._distance})}}})},toMoreStation:function(t){this.updateNearAddress(t),uni.switchTab({url:"/pages/home/home"})}})};e.default=c},a2c5:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.address[data-v-4ea565fe]{padding-bottom:20px}.address .address-keyword-box[data-v-4ea565fe]{padding:10px;display:flex;align-items:center}.address .address-keyword-box .address-keyword[data-v-4ea565fe]{margin-left:10px;margin-right:10px}',""]),t.exports=e},c21f:function(t,e,a){"use strict";var s=a("5117"),d=a.n(s);d.a},d24f:function(t,e,a){"use strict";a.r(e);var s=a("d567"),d=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=d.a},d567:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={props:{address:{type:Object,default:function(){return{}}},location:{type:Object,default:function(){return{}}}},methods:{getDistance:function(t,e,a,s){var d=t*Math.PI/180,n=a*Math.PI/180,i=d-n,r=e*Math.PI/180-s*Math.PI/180,o=2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(d)*Math.cos(n)*Math.pow(Math.sin(r/2),2)));return o*=6378137,o=Math.round(1e4*o)/1e4,o}}};e.default=s}}]);