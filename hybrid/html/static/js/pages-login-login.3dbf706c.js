(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0478":function(i,e,n){"use strict";var o=n("d581"),t=n.n(o);t.a},"1b63":function(i,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};e.default=o},"1ed9":function(i,e,n){"use strict";(function(i){n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.postLoginAuth=e.postBindPhoneOld=e.postBindPhone=void 0;var o=uni.$u.http;i.uniEnv.baseUrl;e.postLoginAuth=function(i){return o.post("/wxmnp/login/auth",i,{header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},custom:{auth:!1,toast:!1}})};e.postBindPhone=function(i){return o.post("/wxmnp/bind/phone",i,{header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},custom:{auth:!1}})};e.postBindPhoneOld=function(i){return o.post("/wxmnp/bind/phone/old",i,{header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},custom:{auth:!1}})}}).call(this,n("4362"))},"1ee6":function(i,e,n){"use strict";n.d(e,"b",(function(){return t})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}));var o={uButton:n("590a").default,uToast:n("6f67").default},t=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("v-uni-view",{staticClass:"login"},[n("v-uni-view",{staticClass:"login-content"},[n("v-uni-view",{staticClass:"login_wechat-btn"},[n("u-button",{attrs:{size:"large",icon:"weixin-fill",text:"微信用户快速登录",color:"#04BE02",shape:"circle",type:"success",loadingMode:"circle","open-type":"getPhoneNumber",disabled:i.loadingWX,loading:i.loadingWX},on:{getphonenumber:function(e){arguments[0]=e=i.$handleEvent(e),i.onGetPhoneNumber.apply(void 0,arguments)}}})],1)],1),n("u-toast",{ref:"uToast"})],1)},c=[]},"27ea":function(i,e,n){"use strict";n("7a82");var o=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(n("c7eb")),c=o(n("1da1")),u=o(n("5530")),l=n("bd73"),a=n("1ed9"),r=n("26cb"),s={data:function(){return{loginCode:{code:void 0},phoneCode:{code:void 0},phoneCodeOld:{code:void 0,encryptedData:void 0,iv:void 0},loadingWX:!1,getPhoneNumberResult:null}},methods:(0,u.default)((0,u.default)({},(0,r.mapActions)(["updateToken"])),{},{onGetPhoneNumber:function(i){var e=this;this.getPhoneNumberResult=i,console.log("获取手机号-----\x3e",this.getPhoneNumberResult),this.loadingWX=!0;var n=i.detail?i.detail:i.mp.detail;"getPhoneNumber:ok"==n.errMsg?uni.login({success:function(i){console.log("uni.login success res-----\x3e",i),i.code&&(e.loginCode.code=i.code,e.phoneCodeOld.code=i.code,e.login())},fail:function(i){console.log("uni.login fail error-----\x3e",i),e.loadingWX=!1,e.$refs.uToast.show({message:"获取登录临时凭证失败："+i})}}):"getPhoneNumber:fail user deny"==n.errMsg?(this.loadingWX=!1,this.$refs.uToast.show({message:"您已拒绝授权"})):(this.loadingWX=!1,this.$refs.uToast.show({message:"授权失败："+i.detail.errMsg}))},login:function(){var i=this;return(0,c.default)((0,t.default)().mark((function e(){var n;return(0,t.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.postLoginAuth)(i.loginCode).catch((function(e){console.log("loginResult error---\x3e",e),202===e.code?i.getVersion():(i.loadingWX=!1,i.$refs.uToast.show({message:"登录错误："+e.code+e.msg}))}));case 2:n=e.sent,void 0!=n&&(console.log("loginResult ---\x3e",n),200==n.code?(console.log("loginResult 登录成功"),i.loadingWX=!1,i.updateToken(n.token),uni.navigateBack({success:function(i){uni.$emit("loginEvent")}})):202==n.code?i.getVersion():(i.loadingWX=!1,i.$refs.uToast.show({message:"登录错误："+n.code+n.msg})));case 4:case"end":return e.stop()}}),e)})))()},getVersion:function(){var i=this;console.log("getVersion"),uni.getSystemInfo({success:function(e){var n=e.hostSDKVersion;(0,l.compareVersion)(n,"2.21.2")>=0?i.getAuthCode():i.uniLoginEncryptedData()},fail:function(){i.loadingWX=!1}})},getAuthCode:function(){var i=this.getPhoneNumberResult,e=i.detail.code?i.detail.code:i.mp.detail.code;if(console.log("authCode---\x3e",e),!e)return this.$refs.uToast.show({message:"微信授权失败"}),void(this.loadingWX=!1);this.phoneCode.code=e,this.bindPhoneNumber()},uniLoginEncryptedData:function(){console.log("uniLoginEncryptedData");var i=this.getPhoneNumberResult,e=i.detail?i.detail:i.mp.detail;this.phoneCodeOld.encryptedData=e.encryptedData,this.phoneCodeOld.iv=e.iv,console.log("phoneCodeOld---\x3e",this.phoneCodeOld),this.bindPhoneNumberOld()},bindPhoneNumber:function(){var i=this;return(0,c.default)((0,t.default)().mark((function e(){var n;return(0,t.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.postBindPhone)(i.phoneCode).catch((function(e){i.loadingWX=!1,i.$refs.uToast.show({message:"注册错误New："+e.code+e.msg})}));case 2:n=e.sent,console.log("phoneResult ---\x3e",n),i.loadingWX=!1,void 0!=n&&(200===n.code?(i.updateToken(n.token),uni.navigateBack({success:function(){uni.$emit("loginEvent")}})):i.$refs.uToast.show({message:"注册失败New："+n.code+n.msg}));case 6:case"end":return e.stop()}}),e)})))()},bindPhoneNumberOld:function(){var i=this;return(0,c.default)((0,t.default)().mark((function e(){var n;return(0,t.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.postBindPhoneOld)(i.phoneCodeOld).catch((function(e){i.loadingWX=!1,i.$refs.uToast.show({message:"注册错误Old："+e.code+e.msg})}));case 2:n=e.sent,console.log("phoneOldResult ---\x3e",n),i.loadingWX=!1,void 0!=n&&(200===n.code?(i.updateToken(n.token),uni.navigateBack({success:function(){uni.$emit("loginEvent")}})):i.$refs.uToast.show({message:"注册失败Old："+n.code+n.msg}));case 6:case"end":return e.stop()}}),e)})))()}})};e.default=s},"3a94":function(i,e,n){"use strict";n.r(e);var o=n("27ea"),t=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(i){n.d(e,i,(function(){return o[i]}))}(c);e["default"]=t.a},4153:function(i,e,n){"use strict";n.r(e);var o=n("8ffa"),t=n("bac3");for(var c in t)["default"].indexOf(c)<0&&function(i){n.d(e,i,(function(){return t[i]}))}(c);n("0478");var u=n("f0c5"),l=Object(u["a"])(t["default"],o["b"],o["c"],!1,null,"59765974",null,!1,o["a"],void 0);e["default"]=l.exports},"592d":function(i,e,n){var o=n("24fb");e=o(!1),e.push([i.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-59765974], uni-scroll-view[data-v-59765974], uni-swiper-item[data-v-59765974]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}@font-face{font-family:uicon-iconfont;src:url(https://at.alicdn.com/t/font_2225171_8kdcwk4po24.ttf) format("truetype")}.u-icon[data-v-59765974]{display:flex;align-items:center}.u-icon--left[data-v-59765974]{flex-direction:row-reverse;align-items:center}.u-icon--right[data-v-59765974]{flex-direction:row;align-items:center}.u-icon--top[data-v-59765974]{flex-direction:column-reverse;justify-content:center}.u-icon--bottom[data-v-59765974]{flex-direction:column;justify-content:center}.u-icon__icon[data-v-59765974]{font-family:uicon-iconfont;position:relative;display:flex;flex-direction:row;align-items:center}.u-icon__icon--primary[data-v-59765974]{color:#3c9cff}.u-icon__icon--success[data-v-59765974]{color:#5ac725}.u-icon__icon--error[data-v-59765974]{color:#f56c6c}.u-icon__icon--warning[data-v-59765974]{color:#f9ae3d}.u-icon__icon--info[data-v-59765974]{color:#909399}.u-icon__img[data-v-59765974]{height:auto;will-change:transform}.u-icon__label[data-v-59765974]{line-height:1}',""]),i.exports=e},"59a8":function(i,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var o={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};e.default=o},"6edf":function(i,e,n){"use strict";n("7a82");var o=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("14d9"),n("caad"),n("2532"),n("c975");var t=o(n("82c4")),c=o(n("59a8")),u={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,c.default],computed:{uClasses:function(){var i=[];return i.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&i.push("u-icon__icon--"+this.color),i},iconStyle:function(){var i={};return i={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(i.color=this.color),i},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var i={};return i.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),i.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),i},icon:function(){return t.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(i){this.$emit("click",this.index),this.stop&&this.preventEvent(i)}}};e.default=u},"82c4":function(i,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={"uicon-level":"","uicon-column-line":"","uicon-checkbox-mark":"","uicon-folder":"","uicon-movie":"","uicon-star-fill":"","uicon-star":"","uicon-phone-fill":"","uicon-phone":"","uicon-apple-fill":"","uicon-chrome-circle-fill":"","uicon-backspace":"","uicon-attach":"","uicon-cut":"","uicon-empty-car":"","uicon-empty-coupon":"","uicon-empty-address":"","uicon-empty-favor":"","uicon-empty-permission":"","uicon-empty-news":"","uicon-empty-search":"","uicon-github-circle-fill":"","uicon-rmb":"","uicon-person-delete-fill":"","uicon-reload":"","uicon-order":"","uicon-server-man":"","uicon-search":"","uicon-fingerprint":"","uicon-more-dot-fill":"","uicon-scan":"","uicon-share-square":"","uicon-map":"","uicon-map-fill":"","uicon-tags":"","uicon-tags-fill":"","uicon-bookmark-fill":"","uicon-bookmark":"","uicon-eye":"","uicon-eye-fill":"","uicon-mic":"","uicon-mic-off":"","uicon-calendar":"","uicon-calendar-fill":"","uicon-trash":"","uicon-trash-fill":"","uicon-play-left":"","uicon-play-right":"","uicon-minus":"","uicon-plus":"","uicon-info":"","uicon-info-circle":"","uicon-info-circle-fill":"","uicon-question":"","uicon-error":"","uicon-close":"","uicon-checkmark":"","uicon-android-circle-fill":"","uicon-android-fill":"","uicon-ie":"","uicon-IE-circle-fill":"","uicon-google":"","uicon-google-circle-fill":"","uicon-setting-fill":"","uicon-setting":"","uicon-minus-square-fill":"","uicon-plus-square-fill":"","uicon-heart":"","uicon-heart-fill":"","uicon-camera":"","uicon-camera-fill":"","uicon-more-circle":"","uicon-more-circle-fill":"","uicon-chat":"","uicon-chat-fill":"","uicon-bag-fill":"","uicon-bag":"","uicon-error-circle-fill":"","uicon-error-circle":"","uicon-close-circle":"","uicon-close-circle-fill":"","uicon-checkmark-circle":"","uicon-checkmark-circle-fill":"","uicon-question-circle-fill":"","uicon-question-circle":"","uicon-share":"","uicon-share-fill":"","uicon-shopping-cart":"","uicon-shopping-cart-fill":"","uicon-bell":"","uicon-bell-fill":"","uicon-list":"","uicon-list-dot":"","uicon-zhihu":"","uicon-zhihu-circle-fill":"","uicon-zhifubao":"","uicon-zhifubao-circle-fill":"","uicon-weixin-circle-fill":"","uicon-weixin-fill":"","uicon-twitter-circle-fill":"","uicon-twitter":"","uicon-taobao-circle-fill":"","uicon-taobao":"","uicon-weibo-circle-fill":"","uicon-weibo":"","uicon-qq-fill":"","uicon-qq-circle-fill":"","uicon-moments-circel-fill":"","uicon-moments":"","uicon-qzone":"","uicon-qzone-circle-fill":"","uicon-baidu-circle-fill":"","uicon-baidu":"","uicon-facebook-circle-fill":"","uicon-facebook":"","uicon-car":"","uicon-car-fill":"","uicon-warning-fill":"","uicon-warning":"","uicon-clock-fill":"","uicon-clock":"","uicon-edit-pen":"","uicon-edit-pen-fill":"","uicon-email":"","uicon-email-fill":"","uicon-minus-circle":"","uicon-minus-circle-fill":"","uicon-plus-circle":"","uicon-plus-circle-fill":"","uicon-file-text":"","uicon-file-text-fill":"","uicon-pushpin":"","uicon-pushpin-fill":"","uicon-grid":"","uicon-grid-fill":"","uicon-play-circle":"","uicon-play-circle-fill":"","uicon-pause-circle-fill":"","uicon-pause":"","uicon-pause-circle":"","uicon-eye-off":"","uicon-eye-off-outline":"","uicon-gift-fill":"","uicon-gift":"","uicon-rmb-circle-fill":"","uicon-rmb-circle":"","uicon-kefu-ermai":"","uicon-server-fill":"","uicon-coupon-fill":"","uicon-coupon":"","uicon-integral":"","uicon-integral-fill":"","uicon-home-fill":"","uicon-home":"","uicon-hourglass-half-fill":"","uicon-hourglass":"","uicon-account":"","uicon-plus-people-fill":"","uicon-minus-people-fill":"","uicon-account-fill":"","uicon-thumb-down-fill":"","uicon-thumb-down":"","uicon-thumb-up":"","uicon-thumb-up-fill":"","uicon-lock-fill":"","uicon-lock-open":"","uicon-lock-opened-fill":"","uicon-lock":"","uicon-red-packet-fill":"","uicon-photo-fill":"","uicon-photo":"","uicon-volume-off-fill":"","uicon-volume-off":"","uicon-volume-fill":"","uicon-volume":"","uicon-red-packet":"","uicon-download":"","uicon-arrow-up-fill":"","uicon-arrow-down-fill":"","uicon-play-left-fill":"","uicon-play-right-fill":"","uicon-rewind-left-fill":"","uicon-rewind-right-fill":"","uicon-arrow-downward":"","uicon-arrow-leftward":"","uicon-arrow-rightward":"","uicon-arrow-upward":"","uicon-arrow-down":"","uicon-arrow-right":"","uicon-arrow-left":"","uicon-arrow-up":"","uicon-skip-back-left":"","uicon-skip-forward-right":"","uicon-rewind-right":"","uicon-rewind-left":"","uicon-arrow-right-double":"","uicon-arrow-left-double":"","uicon-wifi-off":"","uicon-wifi":"","uicon-empty-data":"","uicon-empty-history":"","uicon-empty-list":"","uicon-empty-page":"","uicon-empty-order":"","uicon-man":"","uicon-woman":"","uicon-man-add":"","uicon-man-add-fill":"","uicon-man-delete":"","uicon-man-delete-fill":"","uicon-zh":"","uicon-en":""}},"8ffa":function(i,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return t})),n.d(e,"a",(function(){}));var o=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("v-uni-view",{staticClass:"u-icon",class:["u-icon--"+i.labelPos],on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.clickHandler.apply(void 0,arguments)}}},[i.isImg?n("v-uni-image",{staticClass:"u-icon__img",style:[i.imgStyle,i.$u.addStyle(i.customStyle)],attrs:{src:i.name,mode:i.imgMode}}):n("v-uni-text",{staticClass:"u-icon__icon",class:i.uClasses,style:[i.iconStyle,i.$u.addStyle(i.customStyle)],attrs:{"hover-class":i.hoverClass}},[i._v(i._s(i.icon))]),""!==i.label?n("v-uni-text",{staticClass:"u-icon__label",style:{color:i.labelColor,fontSize:i.$u.addUnit(i.labelSize),marginLeft:"right"==i.labelPos?i.$u.addUnit(i.space):0,marginTop:"bottom"==i.labelPos?i.$u.addUnit(i.space):0,marginRight:"left"==i.labelPos?i.$u.addUnit(i.space):0,marginBottom:"top"==i.labelPos?i.$u.addUnit(i.space):0}},[i._v(i._s(i.label))]):i._e()],1)},t=[]},9354:function(i,e,n){var o=n("dceb");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);var t=n("4f06").default;t("d647787c",o,!0,{sourceMap:!1,shadowMode:!1})},"97b1":function(i,e,n){"use strict";n.r(e);var o=n("1ee6"),t=n("3a94");for(var c in t)["default"].indexOf(c)<0&&function(i){n.d(e,i,(function(){return t[i]}))}(c);n("ff69");var u=n("f0c5"),l=Object(u["a"])(t["default"],o["b"],o["c"],!1,null,"761671aa",null,!1,o["a"],void 0);e["default"]=l.exports},bac3:function(i,e,n){"use strict";n.r(e);var o=n("6edf"),t=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(i){n.d(e,i,(function(){return o[i]}))}(c);e["default"]=t.a},bd73:function(i,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.compareVersion=void 0,n("14d9"),n("e25e");e.compareVersion=function(i,e){if(null!=i&&void 0!=i&&i.length>0){i=i.split("."),e=e.split(".");var n=Math.max(i.length,e.length);while(i.length<n)i.push("0");while(e.length<n)e.push("0");for(var o=0;o<n;o++){var t=parseInt(i[o]),c=parseInt(e[o]);if(t>c)return 1;if(t<c)return-1}return 0}return-1}},d242:function(i,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:{openType:String},methods:{onGetUserInfo:function(i){this.$emit("getuserinfo",i.detail)},onContact:function(i){this.$emit("contact",i.detail)},onGetPhoneNumber:function(i){this.$emit("getphonenumber",i.detail)},onError:function(i){this.$emit("error",i.detail)},onLaunchApp:function(i){this.$emit("launchapp",i.detail)},onOpenSetting:function(i){this.$emit("opensetting",i.detail)}}};e.default=o},d581:function(i,e,n){var o=n("592d");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);var t=n("4f06").default;t("69b79631",o,!0,{sourceMap:!1,shadowMode:!1})},dceb:function(i,e,n){var o=n("24fb");e=o(!1),e.push([i.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.login[data-v-761671aa]{display:flex;flex-direction:column;align-items:Center;height:100vh;justify-content:center}.login .login-content[data-v-761671aa]{width:90%;display:flex;flex-direction:column;justify-content:center;align-items:Center}.login .login-content .login_wechat-btn[data-v-761671aa]{width:100%}.login .login-content .login_phone-btn[data-v-761671aa]{margin-top:20px;width:100%}',""]),i.exports=e},ff69:function(i,e,n){"use strict";var o=n("9354"),t=n.n(o);t.a}}]);