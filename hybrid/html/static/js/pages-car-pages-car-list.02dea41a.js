(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-car-pages-car-list"],{"0146":function(t,e,a){var i=a("37e0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("3e18eaa0",i,!0,{sourceMap:!1,shadowMode:!1})},"0998":function(t,e,a){var i=a("7dbe");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("232e16a4",i,!0,{sourceMap:!1,shadowMode:!1})},"23b6":function(t,e,a){"use strict";a.r(e);var i=a("c6d9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"32fc":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.car-item[data-v-01919f10]{display:flex;align-items:center}.car-item .car-item-box[data-v-01919f10]{background-color:#fff;border-radius:5px;padding:10px;margin:10px;flex:1}.car-item .car-item-box .car_auth[data-v-01919f10]{margin-left:10px;border:1px solid #fc8452;border-radius:50px;padding:2px 8px}.car-item .car-item-box .car_no_auth[data-v-01919f10]{margin-left:10px;background-color:#fc8452;border-radius:50px;padding:2px 8px}.car-item .car-item-box .car_vin[data-v-01919f10]{margin-left:10px;border:1px solid #007aff;border-radius:50px;padding:2px 8px}.car-item .car-item-box .car_default[data-v-01919f10]{margin-left:10px;border:1px solid #e66;border-radius:50px;padding:2px 8px}',""]),t.exports=e},3411:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.updateCar=e.postCar=e.getCarModelList=e.getCarList=e.deleteCar=void 0;var i=uni.$u.http;e.getCarList=function(t){return i.get("/user/car/list",{params:t})};e.getCarModelList=function(t,e){return i.get("/user/car/model/"+t+"/"+e)};e.postCar=function(t){return i.post("/user/car",t)};e.updateCar=function(t){return i.put("/user/car",t)};e.deleteCar=function(t){return i.delete("/user/car/"+t)}},"37e0":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-6fa087a0], uni-scroll-view[data-v-6fa087a0], uni-swiper-item[data-v-6fa087a0]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-empty[data-v-6fa087a0]{display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:center}.u-empty__text[data-v-6fa087a0]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}.u-slot-wrap[data-v-6fa087a0]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}',""]),t.exports=e},5807:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af");var n=i(a("c7eb")),r=i(a("2909")),o=i(a("1da1")),u=i(a("5530")),s=a("26cb"),c=i(a("db6d")),d=a("3411"),l={components:{CarItem:c.default},computed:(0,u.default)({},(0,s.mapGetters)({refresh:"refreshGetter"})),watch:{refresh:function(t){console.log("refresh----\x3e",t),this.isLoading=!1,this.pageNum=1,this.getCarListData()}},data:function(){return{iconList:a("d810"),carList:[],loadMoreStatus:"nomore",loadmoreText:"轻轻上拉",loadingText:"努力加载中",nomoreText:"实在没有了",isLoading:!1,pageNum:1,pageSize:10,total:0,isChoose:!1}},onLoad:function(t){this.isLoading=!1,this.pageNum=1,this.getCarListData(),"1"===t.isChoose&&(this.isChoose=!0)},onPullDownRefresh:function(){this.isLoading=!1,this.pageNum=1,this.getCarListData()},onReachBottom:function(){if(this.carList.length>=this.total)return this.isLoading=!0,void(this.loadMoreStatus="nomore");this.isLoading||(this.isLoading=!0,this.loadMoreStatus="loading",this.pageNum+=1,this.getCarListData())},methods:(0,u.default)((0,u.default)({},(0,s.mapActions)(["updateCar","updateCarModel"])),{},{getCarListData:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var a,i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={pageNum:t.pageNum,pageSize:t.pageSize},e.next=3,(0,d.getCarList)(a);case 3:i=e.sent,uni.stopPullDownRefresh(),void 0!=i&&200===i.code&&(t.isLoading?t.isLoading=!1:t.carList=[],t.total=i.total,i.rows.length>0&&(t.carList=[].concat((0,r.default)(t.carList),(0,r.default)(i.rows))));case 6:case"end":return e.stop()}}),e)})))()},toCarDefault:function(){this.isLoading=!1,this.pageNum=1,this.getCarListData()},toAddCar:function(){this.updateCarModel(null),this.updateCar(null),uni.navigateTo({url:"/pages-car/pages/car/add"})},toChooseCar:function(t){var e=this;this.isChoose?uni.navigateBack({success:function(){uni.$emit("carDetailsEvent",t)}}):(uni.$once("carDeleteEvent",(function(){console.log("carDeleteEvent"),e.isLoading=!1,e.pageNum=1,e.getCarListData()})),uni.navigateTo({url:"/pages-car/pages/car/info",success:function(){e.updateCar(t)}}))}})};e.default=l},6209:function(t,e,a){"use strict";var i=a("0146"),n=a.n(i);n.a},"7dbe":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.car-list[data-v-4737cd77]{min-height:100vh;display:flex;flex-direction:column;width:100%;height:100%}.car-list .car-list-btn-box[data-v-4737cd77]{margin-top:10px;margin-bottom:20px;width:100%;position:fixed;bottom:var(--window-bottom);display:flex;flex-direction:column;justify-content:center;align-items:center}.car-list .car-list-btn-box .car-list-btn[data-v-4737cd77]{width:80%}',""]),t.exports=e},"807a":function(t,e,a){"use strict";var i=a("0998"),n=a.n(i);n.a},"80cc":function(t,e,a){"use strict";a.r(e);var i=a("e2af"),n=a("8c88");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("6209");var o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6fa087a0",null,!1,i["a"],void 0);e["default"]=u.exports},"8c88":function(t,e,a){"use strict";a.r(e);var i=a("e16d"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"975e":function(t,e,a){"use strict";a.r(e);var i=a("b2f4"),n=a("b340");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("807a");var o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"4737cd77",null,!1,i["a"],void 0);e["default"]=u.exports},b2f4:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uLoadmore:a("d1e4").default,uEmpty:a("80cc").default,uButton:a("590a").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"car-list"},[t.total>0?a("v-uni-view",{staticStyle:{"margin-bottom":"60px"}},[t._l(t.carList,(function(e,i){return a("car-item",{key:i,attrs:{car:e},on:{toCarDefault:function(e){arguments[0]=e=t.$handleEvent(e),t.toCarDefault.apply(void 0,arguments)}},nativeOn:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toChooseCar(e)}}})})),t.isLoading?a("u-loadmore",{attrs:{status:t.loadMoreStatus,"loading-text":t.loadingText,"loadmore-text":t.loadmoreText,"nomore-text":t.nomoreText}}):t._e()],2):a("u-empty",{attrs:{mode:"list",icon:t.iconList}}),a("v-uni-view",{staticClass:"car-list-btn-box"},[a("v-uni-view",{staticClass:"car-list-btn"},[a("u-button",{attrs:{text:"添加爱车",size:"large",shape:"circle",color:"#007aff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddCar.apply(void 0,arguments)}}})],1)],1)],1)},r=[]},b340:function(t,e,a){"use strict";a.r(e);var i=a("5807"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},b7a8:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{icon:{type:String,default:uni.$u.props.empty.icon},text:{type:String,default:uni.$u.props.empty.text},textColor:{type:String,default:uni.$u.props.empty.textColor},textSize:{type:[String,Number],default:uni.$u.props.empty.textSize},iconColor:{type:String,default:uni.$u.props.empty.iconColor},iconSize:{type:[String,Number],default:uni.$u.props.empty.iconSize},mode:{type:String,default:uni.$u.props.empty.mode},width:{type:[String,Number],default:uni.$u.props.empty.width},height:{type:[String,Number],default:uni.$u.props.empty.height},show:{type:Boolean,default:uni.$u.props.empty.show},marginTop:{type:[String,Number],default:uni.$u.props.empty.marginTop}}};e.default=i},c6d9:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),r=i(a("1da1")),o=a("3411"),u={props:{car:{type:Object,default:function(){return{}}}},methods:{toCarDefault:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var a,i,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="",t.car.model&&(a=t.car.model.id),i={id:t.car.id,defaultFlag:1,carNum:t.car.carNum,carModelId:a,vehicleLicensePictureMain:t.car.vehicleLicensePictureMain,carVin:t.car.carVin,enableVinCharge:1*t.car.enableVinCharge},e.next=5,(0,o.updateCar)(i);case 5:r=e.sent,void 0!=r&&200===r.code&&(uni.showToast({title:"已设置默认"}),t.$emit("toCarDefault"));case 7:case"end":return e.stop()}}),e)})))()}}};e.default=u},d810:function(t,e,a){t.exports=a.p+"static/img/list.e55dcec1.png"},db6d:function(t,e,a){"use strict";a.r(e);var i=a("e082"),n=a("23b6");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("f45b");var o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"01919f10",null,!1,i["a"],void 0);e["default"]=u.exports},e082:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={"u-Text":a("c98d").default,uButton:a("590a").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"car-item"},[a("v-uni-view",{staticClass:"car-item-box"},[a("v-uni-view",{staticStyle:{display:"flex","align-items":"center"}},[a("v-uni-view",[a("u--text",{attrs:{text:t.car.carNum,size:"18",bold:!0}})],1),a("v-uni-view",{class:t.car.vehicleLicensePictureMain.length>0?"car_auth":"car_no_auth"},[a("v-uni-view",[a("u--text",{attrs:{text:t.car.vehicleLicensePictureMain.length>0?"已认证":"未认证",size:"10",color:t.car.vehicleLicensePictureMain.length>0?"#FC8452":"white"}})],1)],1),"1"===t.car.enableVinCharge?a("v-uni-view",{staticClass:"car_vin"},[a("v-uni-view",[a("u--text",{attrs:{text:"已启用VIN",size:"10",color:"#007aff"}})],1)],1):t._e(),"1"===t.car.defaultFlag?a("v-uni-view",{staticClass:"car_default"},[a("v-uni-view",[a("u--text",{attrs:{text:"默认爱车",size:"10",color:"#EE6666"}})],1)],1):t._e()],1),t.car.brand.name.length>0?a("v-uni-view",{staticStyle:{"margin-top":"10px"}},[a("u--text",{attrs:{text:t.car.brand.name+" "+t.car.model.name}})],1):t._e()],1),"1"!=t.car.defaultFlag?a("v-uni-view",{staticStyle:{"margin-right":"10px"}},[a("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toCarDefault.apply(void 0,arguments)}}},[a("u-button",{attrs:{type:"primary",text:"设为默认",size:"small",shape:"circle"}})],1)],1):t._e()],1)},r=[]},e16d:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c975");var n=i(a("b7a8")),r={name:"u-empty",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空",comment:"暂无评论"}}},computed:{emptyStyle:function(){var t={};return t.marginTop=uni.$u.addUnit(this.marginTop),uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),t)},textStyle:function(){var t={};return t.color=this.textColor,t.fontSize=uni.$u.addUnit(this.textSize),t},isSrc:function(){return this.icon.indexOf("/")>=0}}};e.default=r},e2af:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uIcon:a("4153").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("v-uni-view",{staticClass:"u-empty",style:[t.emptyStyle]},[t.isSrc?a("v-uni-image",{style:{width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)},attrs:{src:t.icon,mode:"widthFix"}}):a("u-icon",{attrs:{name:"message"===t.mode?"chat":"empty-"+t.mode,size:t.iconSize,color:t.iconColor,"margin-top":"14"}}),a("v-uni-text",{staticClass:"u-empty__text",style:[t.textStyle]},[t._v(t._s(t.text?t.text:t.icons[t.mode]))]),t.$slots.default||t.$slots.$default?a("v-uni-view",{staticClass:"u-empty__wrap"},[t._t("default")],2):t._e()],1):t._e()},r=[]},f454:function(t,e,a){var i=a("32fc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("07b55d1e",i,!0,{sourceMap:!1,shadowMode:!1})},f45b:function(t,e,a){"use strict";var i=a("f454"),n=a.n(i);n.a}}]);