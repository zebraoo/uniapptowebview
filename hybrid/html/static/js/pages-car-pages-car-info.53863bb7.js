(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-car-pages-car-info"],{"0c38":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return n}));var n={"u-Text":i("c98d").default,uLine:i("4f7d").default,uAlbum:i("53f3").default,uButton:i("590a").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"car-info"},[i("v-uni-view",[i("v-uni-view",[i("u--text",{attrs:{text:"车牌号码 ",color:"#909399"}})],1),i("v-uni-view",{staticStyle:{"margin-top":"5px"}},[i("u--text",{attrs:{text:e.car.carNum}})],1),i("v-uni-view",{staticStyle:{margin:"10px 0"}},[i("u-line")],1)],1),e.car.brand?i("v-uni-view",[i("v-uni-view",[i("u--text",{attrs:{text:"爱车型号 ",color:"#909399"}})],1),i("v-uni-view",{staticStyle:{"margin-top":"5px"}},[i("u--text",{attrs:{text:e.car.brand.name+" "+e.car.model.name}})],1),i("v-uni-view",{staticStyle:{margin:"10px 0"}},[i("u-line")],1)],1):e._e(),e.picList.length>0?i("v-uni-view",[i("v-uni-view",[i("v-uni-view",[i("u--text",{attrs:{text:"行驶证照片 ",color:"#909399"}})],1),i("v-uni-view",{staticStyle:{"margin-top":"5px"}},[i("u-album",{attrs:{urls:e.picList}})],1)],1),e.car.carVin.length>0?i("v-uni-view",[i("v-uni-view",{staticStyle:{margin:"10px 0"}},[i("u-line")],1),i("v-uni-view",{staticStyle:{display:"flex","align-items":"center"}},[i("v-uni-view",[i("u--text",{attrs:{text:"VIN码 ",color:"#909399"}})],1),i("v-uni-view",{staticStyle:{"margin-left":"10px"}},[i("u--text",{attrs:{text:"1"===e.car.enableVinCharge?"已启用VIN码充电":"",color:"#007aff",size:"14"}})],1)],1),i("v-uni-view",{staticStyle:{"margin-top":"5px"}},[i("u--text",{attrs:{text:e.car.carVin}})],1)],1):e._e()],1):e._e(),i("v-uni-view",{staticStyle:{margin:"20px 10px",display:"flex","align-items":"center"}},[i("v-uni-view",{staticStyle:{flex:"1","margin-right":"10px"}},[i("u-button",{attrs:{type:"primary",shape:"circle",text:"编辑",loading:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toEdit.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticStyle:{flex:"1","margin-left":"10px"}},[i("u-button",{attrs:{type:"error",shape:"circle",text:"删除",loading:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toDelete.apply(void 0,arguments)}}})],1)],1)],1)},u=[]},1577:function(e,t,i){var n=i("9c56");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("6b869bfe",n,!0,{sourceMap:!1,shadowMode:!1})},1616:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return n}));var n={"u-Text":i("c98d").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-album"},e._l(e.showUrls,(function(t,n){return i("v-uni-view",{key:n,ref:"u-album__row",refInFor:!0,staticClass:"u-album__row",attrs:{forComputedUse:e.albumWidth}},e._l(t,(function(t,a){return i("v-uni-view",{key:a,staticClass:"u-album__row__wrapper",style:[e.imageStyle(n+1,a+1)],on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.previewFullImage&&e.onPreviewTap(e.getSrc(t))}}},[i("v-uni-image",{style:[{width:e.imageWidth,height:e.imageHeight}],attrs:{src:e.getSrc(t),mode:1===e.urls.length?e.imageHeight>0?e.singleMode:"widthFix":e.multipleMode}}),e.showMore&&e.urls.length>e.rowCount*e.showUrls.length&&n===e.showUrls.length-1&&a===e.showUrls[e.showUrls.length-1].length-1?i("v-uni-view",{staticClass:"u-album__row__wrapper__text"},[i("u--text",{attrs:{text:"+"+(e.urls.length-e.maxCount),color:"#fff",size:.3*e.multipleSize,align:"center",customStyle:"justify-content: center"}})],1):e._e()],1)})),1)})),1)},u=[]},"1a76":function(e,t,i){"use strict";var n=i("d67d"),a=i.n(n);a.a},2730:function(e,t,i){"use strict";i.r(t);var n=i("0c38"),a=i("84ca");for(var u in a)["default"].indexOf(u)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(u);i("5bba");var r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"319353d3",null,!1,n["a"],void 0);t["default"]=l.exports},"2f3a":function(e,t,i){"use strict";var n=i("1577"),a=i.n(n);a.a},3411:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.updateCar=t.postCar=t.getCarModelList=t.getCarList=t.deleteCar=void 0;var n=uni.$u.http;t.getCarList=function(e){return n.get("/user/car/list",{params:e})};t.getCarModelList=function(e,t){return n.get("/user/car/model/"+e+"/"+t)};t.postCar=function(e){return n.post("/user/car",e)};t.updateCar=function(e){return n.put("/user/car",e)};t.deleteCar=function(e){return n.delete("/user/car/"+e)}},"4d78":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a9e3");var n={props:{urls:{type:Array,default:uni.$u.props.album.urls},keyName:{type:String,default:uni.$u.props.album.keyName},singleSize:{type:[String,Number],default:uni.$u.props.album.singleSize},multipleSize:{type:[String,Number],default:uni.$u.props.album.multipleSize},space:{type:[String,Number],default:uni.$u.props.album.space},singleMode:{type:String,default:uni.$u.props.album.singleMode},multipleMode:{type:String,default:uni.$u.props.album.multipleMode},maxCount:{type:[String,Number],default:uni.$u.props.album.maxCount},previewFullImage:{type:Boolean,default:uni.$u.props.album.previewFullImage},rowCount:{type:[String,Number],default:uni.$u.props.album.rowCount},showMore:{type:Boolean,default:uni.$u.props.album.showMore}}};t.default=n},"4f7d":function(e,t,i){"use strict";i.r(t);var n=i("8404"),a=i("d978");for(var u in a)["default"].indexOf(u)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(u);i("2f3a");var r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"2f0e5305",null,!1,n["a"],void 0);t["default"]=l.exports},"53f3":function(e,t,i){"use strict";i.r(t);var n=i("1616"),a=i("d3ca");for(var u in a)["default"].indexOf(u)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(u);i("1a76");var r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"5025dd06",null,!1,n["a"],void 0);t["default"]=l.exports},"5bba":function(e,t,i){"use strict";var n=i("acb8"),a=i.n(n);a.a},"5dd2":function(e,t,i){"use strict";(function(e){i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("14d9");var a=n(i("c7eb")),u=n(i("1da1")),r=n(i("5530")),l=i("26cb"),s=i("3411"),o={computed:(0,r.default)({},(0,l.mapGetters)({car:"carGetter"})),watch:{car:{handler:function(t){null!=t&&(console.log("car info watch---\x3e",t),null!=t.vehicleLicensePictureMain&&(this.vehicleLicensePictureMain=t.vehicleLicensePictureMain,this.picList=[],this.vehicleLicensePictureMain.length>0&&this.picList.push(e.uniEnv.baseUrl+e.uniEnv.baseApi+this.car.vehicleLicensePictureMain),console.log("info picList ---\x3e",e.uniEnv.baseUrl+e.uniEnv.baseApi+this.car.vehicleLicensePictureMain)))},deep:!0,immediate:!0}},data:function(){return{picList:[],vehicleLicensePictureMain:""}},methods:(0,r.default)((0,r.default)({},(0,l.mapActions)(["updateCar"])),{},{toEdit:function(){uni.navigateTo({url:"/pages-car/pages/car/add?isEdit=1"})},toDelete:function(){var e=this;return(0,u.default)((0,a.default)().mark((function t(){var i;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.deleteCar)(e.car.id);case 2:i=t.sent,void 0!=i&&200===i.code&&uni.navigateBack({success:function(){uni.$emit("carDeleteEvent"),e.updateCar(null)}});case 4:case"end":return t.stop()}}),t)})))()}})};t.default=o}).call(this,i("4362"))},6024:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a9e3");var n={props:{color:{type:String,default:uni.$u.props.line.color},length:{type:[String,Number],default:uni.$u.props.line.length},direction:{type:String,default:uni.$u.props.line.direction},hairline:{type:Boolean,default:uni.$u.props.line.hairline},margin:{type:[String,Number],default:uni.$u.props.line.margin},dashed:{type:Boolean,default:uni.$u.props.line.dashed}}};t.default=n},7800:function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("6024")),u={name:"u-line",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],computed:{lineStyle:function(){var e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}};t.default=u},8404:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-line",style:[this.lineStyle]})},a=[]},"84ca":function(e,t,i){"use strict";i.r(t);var n=i("5dd2"),a=i.n(n);for(var u in n)["default"].indexOf(u)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(u);t["default"]=a.a},"9c56":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-2f0e5305], uni-scroll-view[data-v-2f0e5305], uni-swiper-item[data-v-2f0e5305]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-line[data-v-2f0e5305]{vertical-align:middle}',""]),e.exports=t},acb8:function(e,t,i){var n=i("d7fe");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("5836c7a7",n,!0,{sourceMap:!1,shadowMode:!1})},ad55:function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("c7eb")),u=n(i("1da1"));i("d81d"),i("14d9"),i("ac1f"),i("00b4");var r=n(i("4d78")),l={name:"u-album",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{singleWidth:0,singleHeight:0,singlePercent:.6}},watch:{urls:{immediate:!0,handler:function(e){1===e.length&&this.getImageRect()}}},computed:{imageStyle:function(){var e=this;return function(t,i){var n=e.space,a=e.rowCount,u=(e.multipleSize,e.urls,uni.$u),r=u.addUnit,l=(u.addStyle,e.showUrls.length),s=(e.urls.length,{marginRight:r(n),marginBottom:r(n)});return t===l&&(s.marginBottom=0),(i===a||t===l&&i===e.showUrls[t-1].length)&&(s.marginRight=0),s}},showUrls:function(){var e=this,t=[];return this.urls.map((function(i,n){if(n+1<=e.maxCount){var a=Math.floor(n/e.rowCount);t[a]||(t[a]=[]),t[a].push(i)}})),t},imageWidth:function(){return uni.$u.addUnit(1===this.urls.length?this.singleWidth:this.multipleSize)},imageHeight:function(){return uni.$u.addUnit(1===this.urls.length?this.singleHeight:this.multipleSize)},albumWidth:function(){var e=0;return e=1===this.urls.length?this.singleWidth:this.showUrls[0].length*this.multipleSize+this.space*(this.showUrls[0].length-1),this.$emit("albumWidth",e),e}},methods:{onPreviewTap:function(e){var t=this,i=this.urls.map((function(e){return t.getSrc(e)}));uni.previewImage({current:e,urls:i})},getSrc:function(e){return uni.$u.test.object(e)?this.keyName&&e[this.keyName]||e.src:e},getImageRect:function(){var e=this,t=this.getSrc(this.urls[0]);uni.getImageInfo({src:t,success:function(t){var i=t.width>=t.height;e.singleWidth=i?e.singleSize:t.width/t.height*e.singleSize,e.singleHeight=i?t.height/t.width*e.singleWidth:e.singleSize},fail:function(){e.getComponentWidth()}})},getComponentWidth:function(){var e=this;return(0,u.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,uni.$u.sleep(30);case 2:e.$uGetRect(".u-album__row").then((function(t){e.singleWidth=t.width*e.singlePercent}));case 3:case"end":return t.stop()}}),t)})))()}}};t.default=l},d3ca:function(e,t,i){"use strict";i.r(t);var n=i("ad55"),a=i.n(n);for(var u in n)["default"].indexOf(u)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(u);t["default"]=a.a},d67d:function(e,t,i){var n=i("e507");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("fbbdeace",n,!0,{sourceMap:!1,shadowMode:!1})},d7fe:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.car-info[data-v-319353d3]{padding:10px}',""]),e.exports=t},d978:function(e,t,i){"use strict";i.r(t);var n=i("7800"),a=i.n(n);for(var u in n)["default"].indexOf(u)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(u);t["default"]=a.a},e507:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-view[data-v-5025dd06], uni-scroll-view[data-v-5025dd06], uni-swiper-item[data-v-5025dd06]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-album[data-v-5025dd06]{display:flex;flex-direction:column}.u-album__row[data-v-5025dd06]{display:flex;flex-direction:row;flex-wrap:wrap}.u-album__row__wrapper[data-v-5025dd06]{position:relative}.u-album__row__wrapper__text[data-v-5025dd06]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.3);display:flex;flex-direction:row;justify-content:center;align-items:center}',""]),e.exports=t}}]);